<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="bika">

<head>
  <title></title>
</head>

<body>
  <div metal:fill-slot="main">

    <h1>
      <img src="" tal:attributes="src string:++resource++bika.lims.images/analysisprofile_big.png"/>
      <span i18n:translate="heading_import_ar">UW Import Analysis Request Data</span>
    </h1>

    <form method="post" name="import_analysisrequest"
          enctype="multipart/form-data">

      <input type="hidden" name="submitted" value="1" />
      <input type="hidden" name="ClientID" value=""
             tal:attributes="value here/getId"/>
      <tal:importoption
        tal:define="options here/getARImportOptions;
                    options python:options and options or ['c',]">
        <tal:onlyone tal:condition="python:len(options) == 1">
          <input type="hidden" name="ImportOption" value="c"
                 tal:attributes="value python:options[0]">
        </tal:onlyone>
      </tal:importoption>

      <div class="field">
        <label i18n:translate="label_import_ar_file">Select CSV file</label><br/>
        <input id="arimport_file" type="file" name="csvfile" size="60"/>
      </div>

      <div class="field">
        <input type="checkbox"
               name="debug"
               value="1"/>
        <label i18n:translate="label_debug">Debug: Display parsed data</label>
      </div>

      <input tabindex=""
             class="context"
             type="submit"
             name="submit"
             value="Import"
             i18n:attributes="value"/>
    </form>
    <!-- Debug: Displays the parsed data as JSON -->
    <pre tal:condition="view/parsed_import_data" tal:content="view/parsed_import_data"/>
  </div>

</body>
</html>
